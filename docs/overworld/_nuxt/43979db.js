(window.webpackJsonp=window.webpackJsonp||[]).push([[24,23],{302:function(t,e,n){var content=n(316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("4b97c546",content,!0,{sourceMap:!1})},315:function(t,e,n){"use strict";n(302)},316:function(t,e,n){var r=n(14)(!1);r.push([t.i,".userholder[data-v-dabb0718]{position:absolute;-webkit-user-select:none;-ms-user-select:none;user-select:none;transform:translateX(-50%) translateY(-50%);pointer-events:none;z-index:1998;transition:top 5s,left 5s,opacity 1s}.userholder.you[data-v-dabb0718]{z-index:2001}.userholder.mobile[data-v-dabb0718]{transition:top 2s,left 2s,opacity 1s}.user[data-v-dabb0718]{position:relative;font-size:1.2rem;line-height:1}.user.mobile[data-v-dabb0718]{font-size:1rem}.user.you[data-v-dabb0718]{font-size:1.7rem;padding:18px;border-radius:50%;background:radial-gradient(var(--user-highlight-color) 0,transparent 65%)}",""]),t.exports=r},330:function(t,e,n){var content=n(371);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("6b856c0a",content,!0,{sourceMap:!1})},338:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(9),n(10),n(11);var r=n(3),o=n(5);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l=["🤔","😙","😎","👽","😺","😅","👻","😈","😲","😷","🤪","😇","😍"],d={name:"UserIcon",props:{island:{},icon:{},you:{default:!1}},data:function(){return{bobRate:(50*Math.random()+20).toFixed(2),bobDelay:(-60*Math.random()).toFixed(2),displayIcon:this.icon||l[Math.floor(Math.random()*l.length)]}},watch:{},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)(["isMobile"])),created:function(){this.you&&this.$emit("icon",this.displayIcon)},mounted:function(){},methods:{}},h=d,f=(n(315),n(4)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userholder",class:{you:t.you,mobile:t.isMobile},style:{top:100*t.island.top+(4*Math.random()-2)+"%",left:100*t.island.left+(4*Math.random()-2)+"%"}},[n("div",{staticClass:"user",class:{you:t.you,mobile:t.isMobile},style:{animation:this.bobRate+"s ease-in-out infinite alternate "+(t.you?"bob":"bigbob"),"animation-delay":this.bobDelay+"s"}},[t._v("\n     "+t._s(t.displayIcon)+"\n  ")])])}),[],!1,null,"dabb0718",null);e.default=component.exports},370:function(t,e,n){"use strict";n(330)},371:function(t,e,n){var r=n(14)(!1);r.push([t.i,".otherusers[data-v-f301f584]{pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:1998;width:100%;height:100%;top:0;left:0}",""]),t.exports=r},385:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(10),n(11);var r=n(3),o=(n(29),n(9),n(38),n(5)),c=n(82);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=["🤔","😙","😎","👽","😺","😅","👻","😈","😲","😷","🤪","😇","😍"],h={name:"UserIcons",props:{currentIsland:{default:function(){return{slug:"spawn",top:1,left:.5}}}},data:function(){return{socket:null,clientId:"".concat(Math.random()).slice(2),icon:"",otherUsers:[],cleanUpInterval:null}},watch:{currentIsland:function(t,e){t!==e&&this.travel()},otherUsers:function(){this.otherUsers.length>50&&(this.otherUsers=this.otherUsers.slice(0,50))}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)(["zoom","isMobile"])),created:function(){},mounted:function(){this.cleanUpInterval=setInterval(this.cleanUpOtherUsers,5e3)},beforeDestroy:function(){clearInterval(this.cleanUpInterval),this.socket.emit("leave","world")},methods:{socketSetup:function(){var t=this;this.socket||(this.socket=io.connect("/"),this.socket.emit("join","world"),this.socket.on("liveUsers",(function(e){t.otherUsers=e.filter((function(u){return u.clientId!==t.clientId})),0===t.otherUsers.length&&t.spawnFakeUsers()})),this.socket.on("otherUserTravel",(function(data){if(data.clientId!==t.clientId){var e=t.otherUsers.find((function(u){return u.clientId===data.clientId}));e?(e.island=data.island,e.lastSeen=data.lastSeen):t.otherUsers.push(data)}})))},cleanUpOtherUsers:function(){var t=Date.now()-6e5;this.otherUsers=this.otherUsers.filter((function(e){return e.lastSeen>t})),0===this.otherUsers.length&&this.spawnFakeUsers()},travel:function(){this.socket.emit("travel",{island:this.currentIsland,clientId:this.clientId,icon:this.icon})},spawnFakeUsers:function(){for(var t=this,e=6*Math.random()+1,n=function(i){var e="b"+"".concat(Math.random()).substring(2);t.otherUsers.push({island:c.default.islands[Math.floor(Math.random()*c.default.islands.length)],clientId:e,icon:d[Math.floor(Math.random()*d.length)],lastSeen:Date.now()-Math.round(10*Math.random()*60*1e3)});for(var n=15*Math.random(),r=0;r<n;r++)setTimeout((function(){var n=t.otherUsers.find((function(u){return u.clientId===e}));n&&(n.island=c.default.islands[Math.floor(Math.random()*c.default.islands.length)])}),Math.round(10*Math.random()*60*1e3))},i=0;i<e;i++)n()}}},f=h,m=(n(370),n(4)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"fade"}},[t.currentIsland?n("UserIcon",{attrs:{island:t.currentIsland,you:!0},on:{icon:function(e){t.icon=arguments[0]}}}):t._e()],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.zoom>(t.isMobile?.2:.25)?n("div",{staticClass:"otherusers"},[n("transition-group",{attrs:{name:"fade"}},t._l(t.otherUsers,(function(e){return n("UserIcon",t._b({key:"otheruser"+e.clientId},"UserIcon",e,!1))})),1)],1):t._e()])],1)}),[],!1,null,"f301f584",null);e.default=component.exports;installComponents(component,{UserIcon:n(338).default})}}]);