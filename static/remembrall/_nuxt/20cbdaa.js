(window.webpackJsonp=window.webpackJsonp||[]).push([[6,13,15,17,18,19,20,21,22,23,24,28,29,30],{237:function(t,e,n){"use strict";n.r(e);n(27),n(64);var r={props:{text:{required:!1,default:"",type:String},lineBreaksAllowed:{required:!1,default:!0,type:Boolean},acceptBlank:{required:!1,default:!1,type:Boolean},disableEdits:{required:!1,default:!1,type:Boolean},placeholder:{required:!1,default:"",type:String},focus:{required:!1,default:!1,type:Boolean}},components:{},data:function(){return{displayText:this.text,isEditing:!1,metaDown:!1,shiftDown:!1,isPlaceholder:0===this.text.length}},model:{prop:"text",event:"changeText"},computed:{},watch:{text:function(t){this.isEditing||this.resetTextTo(t)},disableEdits:function(t){this.isEditing=!1,this.metaDown=!1,this.shiftDown=!1},focus:function(t){var e=this;t&&this.$nextTick((function(){e.startEdit()}))}},mounted:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),this.isPlaceholder&&(this.displayText=this.placeholder),this.focus&&this.startEdit()},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp)},methods:{startEdit:function(){var t=this;this.isEditing||this.disableEdits||(this.isEditing=!0,this.isPlaceholder&&(this.displayText=""),this.isPlaceholder=!1,this.metaDown=!1,this.shiftDown=!1,this.$nextTick((function(){t.$el.focus(),t.$nextTick(t.selectText)})),this.$emit("startEdit",this.displayText))},resetTextTo:function(t){var e=this;this.displayText="",this.$el.innerHTML="",this.$nextTick((function(){e.displayText=t,t||!e.placeholder||e.isEditing||(e.displayText=e.placeholder,e.isPlaceholder=!0)}))},commitEdit:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.isEditing=!1,this.metaDown=!1,this.shiftDown=!1;var t=this.sanitize(this.$el.innerHTML);t.length>0?this.$emit("endEdit",t):this.resetTextTo(this.text)},keyDown:function(t){this.isEditing&&!this.disableEdits&&("Meta"===t.key&&(this.metaDown=!0),"Shift"===t.key&&(this.shiftDown=!0),"Enter"!==t.key||this.lineBreaksAllowed||this.commitEdit(),"Enter"===t.key&&this.metaDown&&this.commitEdit(),"Tab"===t.key&&this.shiftDown&&this.$emit("prev",t),"Tab"===t.key&&this.$emit("next",t),"Escape"===t.key&&(this.resetTextTo(this.text),this.$nextTick(this.commitEdit)))},keyUp:function(t){this.isEditing&&!this.disableEdits&&("Meta"===t.key&&(this.metaDown=!1),"Shift"===t.key&&(this.shiftDown=!1))},selectText:function(){if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(this.$el),t.select()}else if(window.getSelection){var e=window.getSelection(),n=document.createRange();n.selectNodeContents(this.$el),e.removeAllRanges(),e.addRange(n)}},sanitize:function(text){return text.replace(/<div>/g,"\n").replace(/<br\s?\/?>/g,"\n").replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/^[\s\n\t]*/g,"")},paste:function(t){t.stopPropagation(),t.preventDefault();var e=t.clipboardData||window.clipboardData,n=this.sanitize(e.getData("Text"));if(/.(jpe?g|png|gif|webm|bmp)$/gi.test(n))return this.$emit("setImageURL",n);if(/^data:/gi.test(n))return alert("that's image data, not a link! make sure you get an image url that ends in .jpg, .png, .gif, etc.");var r,o,d,c,l,f=document.activeElement.innerText,h=(r=this.$el,o=function(){var t=window.getSelection();if(null!=t&&t.rangeCount>0){var e=t.getRangeAt(0);return{start:d(r,e.startContainer,e.startOffset),end:d(r,e.endContainer,e.endOffset)}}return null},d=function t(e,n,r){var o=0;if("#text"===n.nodeName)o+=r;else for(var i=0;i<r;i++)o+=c(n.childNodes[i]);return n!==e&&(o+=t(e,n.parentNode,l(n))),o},c=function t(e){var n=0;if("BR"===e.nodeName)n=1;else if("#text"===e.nodeName)n=e.nodeValue.length;else if(null!==e.childNodes)for(var i=0;i<e.childNodes.length;i++)n+=t(e.childNodes[i]);return n},l=function t(e){return null==e?-1:1+t(e.previousSibling)},o(document.activeElement)),v=f.substring(0,h.start)+n+f.substring(h.end);this.displayText=v,this.$emit("changeText",v),this.$nextTick(this.moveCursorToEnd)},moveCursorToEnd:function(){var t,e;document.createRange?((t=document.createRange()).selectNodeContents(this.$el),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(this.$el),t.collapse(!1),t.select())}}},o=(n(255),n(52)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"editabletext",class:{editabletextediting:t.isEditing,placeholder:t.isPlaceholder},attrs:{contenteditable:t.isEditing,tabindex:"0"},domProps:{innerHTML:t._s(t.displayText)},on:{focus:t.startEdit,click:t.startEdit,input:function(e){t.$emit("changeText",t.sanitize(t.$el.innerHTML))},blur:t.commitEdit,paste:t.paste}})}),[],!1,null,null,null);e.default=component.exports},238:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(108);var o=n(137),d=n(81);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(d.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},239:function(t,e,n){"use strict";n.r(e);var r=n(238),o=(n(63),n(34),n(53),n(15),n(44),n(67),n(46),n(27),n(35),n(69),n(70),n(47),n(180));function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return d=t.done,t},e:function(t){l=!0,o=t},f:function(){try{d||null==n.return||n.return()}finally{if(l)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l={components:{},props:{cards:{},slots:{default:10},maxTime:{default:null},title:{default:"All upcoming reviews:"}},data:function(){return{updateGraphTimer:null,reviewGraph:{},firstFrame:!0}},watch:{cards:function(){this.updateGraph()}},mounted:function(){var t=this;this.updateGraphTimer=setInterval(this.updateGraph,3e4),this.updateGraph(),setTimeout((function(){return t.firstFrame=!1}),100)},beforeDestroy:function(){clearInterval(this.updateGraphTimer)},methods:{updateGraph:function(){if(this.cards&&0!==this.cards.length){for(var t=Date.now(),e=this.cards.map((function(e){return parseInt(e.nextReview)-t})),n=this.maxTime?this.maxTime:Math.max.apply(Math,Object(r.a)(e)),c=[],l=[],f=0;f<this.slots;f++)c[f]=0,l[this.slots-1-f]=Object(o.msToString)(n-n/this.slots*(f+.5));var h,v=d(e);try{for(v.s();!(h=v.n()).done;){var time=h.value,m=Math.floor(time/n*(this.slots-1));m>=this.slots||(c[m]?c[m]++:c[m]=1)}}catch(t){v.e(t)}finally{v.f()}var w=Math.max.apply(Math,c);this.reviewGraph={graphPoints:c,labels:l,maxValue:w}}}}},f=(n(258),n(52)),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reviewgraph"},[t.reviewGraph.graphPoints?n("h4",[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"bars"},t._l(t.reviewGraph.graphPoints,(function(e,r){return n("div",{key:"bar"+r,staticClass:"fill",style:{height:t.firstFrame?0:e/t.reviewGraph.maxValue*100+"%"}},[n("div",{staticClass:"count"},[t._v(t._s(e))])])})),0),t._v(" "),n("div",{staticClass:"labels"},t._l(t.reviewGraph.labels,(function(label,e){return n("span",{key:"label"+e,staticClass:"sub"},[t._v(t._s(label)+"\n    ")])})),0)])}),[],!1,null,"451472b2",null);e.default=component.exports},240:function(t,e,n){"use strict";n.r(e);var r={props:{text:{},offset:{default:0},color:{default:"green"}},data:function(){return{textToFloat:null}},watch:{text:function(t){var e=this;this.textToFloat=null,this.$nextTick((function(){return e.textToFloat=e.text}))}}},o=(n(260),n(52)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.textToFloat?n("div",{staticClass:"floattext",style:{transform:"translateY("+t.offset+"px)",color:t.color}},[t._v("\n\t\t"+t._s(t.textToFloat)+"\n\t")]):t._e()}),[],!1,null,"d16cf874",null);e.default=component.exports},241:function(t,e,n){var content=n(256);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("8202c81e",content,!0,{sourceMap:!1})},242:function(t,e,n){var content=n(259);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("2b827ed1",content,!0,{sourceMap:!1})},243:function(t,e,n){var content=n(261);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("62f984fd",content,!0,{sourceMap:!1})},245:function(t,e,n){var content=n(266);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("acc70412",content,!0,{sourceMap:!1})},246:function(t,e,n){var content=n(270);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("f112b6ce",content,!0,{sourceMap:!1})},247:function(t,e,n){var content=n(272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("f36acca2",content,!0,{sourceMap:!1})},249:function(t,e,n){"use strict";n.r(e);var r={props:{setTo:{required:!1,type:Boolean,default:!1},label:{required:!1,type:String}},components:{},data:function(){return{on:this.setTo}},computed:{},watch:{setTo:function(t){this.on!==t&&this.toggle()}},methods:{toggle:function(){this.on=!this.on,this.$emit("toggled",this.on)}}},o=(n(265),n(52)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toggle",class:{on:t.on},on:{click:t.toggle}},[n("div",{staticClass:"icon"}),t._v(" "),t.label?n("div",{staticClass:"label"},[t._v(t._s(t.label))]):t._e()])}),[],!1,null,"96c47868",null);e.default=component.exports},252:function(t,e,n){"use strict";n.r(e);n(79),n(80),n(27),n(64),n(267);var r=n(253),o=n(244),d=n(180),c=18e5,l={ok:2.5,hard:.6,again:.1},f=[300,3e4],h={components:{Card:r.default,AutoSpeaker:o.default},props:{reverse:{},front:{},back:{},id:{},set:{},timeMod:{default:0},nextReview:{default:0},totalReviews:{default:0},imageURL:{},created:{default:function(){return(new Date).getTime()}},ok:{default:0},again:{default:0}},data:function(){return{msToString:d.msToString,showBack:!1,startedCardTime:new Date,revealedBackTime:new Date,averageTime:7e3,reviewsSoFar:0,metaDown:!1,textToSpeak:"",isFirefox:navigator.userAgent.toLowerCase().includes("firefox")}},computed:{settings:function(){return this.$store.state.setList[this.$store.state.currentSetId].settings},isStudying:function(){return"study"===this.$store.state.appState},isEditing:function(){return"editCard"===this.$store.state.appState},isMobile:function(){return this.$store.state.isMobile},isEditingText:function(){return this.$store.state.isEditingText},isNewCard:function(){return!this.totalReviews||0===this.totalReviews},timeBonuses:function(){return{ok:this.getTimeBonus("ok"),hard:this.getTimeBonus("hard"),again:this.getTimeBonus("again")}}},watch:{id:function(){this.startedCardTime=new Date,this.showBack=!1,this.settings.autoSpeakFront&&(this.textToSpeak=(this.reverse?this.back:this.front).replace(/\n.*/g,""));var t=this.$el.getBoundingClientRect().top+window.scrollY-10;t>window.scrollY+100||window.scrollTo(0,t)}},mounted:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),this.settings.autoSpeakFront&&(this.textToSpeak=(this.reverse?this.back:this.front).replace(/\n.*/g,""))},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp)},methods:{showBackAction:function(){this.showBack=!0,this.revealedBackTime=new Date;var t=this.$refs.card.$el.getBoundingClientRect(),e=t.top+window.scrollY+t.height-window.innerHeight+(this.isMobile?70:120);e<=0||e<window.scrollY||window.scrollTo(0,e)},answer:function(t){"loading"===this.imageURL&&this.$store.commit("updateCard",{id:this.id,imageURL:null}),this.showBack=!1,this.reviewsSoFar++;var e=this.revealedBackTime-this.startedCardTime,n=e<f[0]||e>f[1];n||(this.averageTime=this.averageTime*((this.reviewsSoFar-1)/this.reviewsSoFar)+e*(1/this.reviewsSoFar));var r={};r.answerTime=n?0:1-(e-f[0])/f[1];r.maturity=this.totalReviews>30?1:this.totalReviews/30;var o=.2*(this.ok||0)/(this.again||1);r.successRatio=o>1?1:o;var c=this.front.length+this.back.length-5;c<0&&(c=0);r.length=c>40?1:c/40;var l={answerTime:.4,maturity:.25,successRatio:.25,length:.1};console.log("base time mod:",Object(d.msToString)(this.timeBonuses[t]));var h=0;for(var v in r)console.log(v+" bonus:",(100*r[v]).toFixed(0)+"% (+"+(r[v]*l[v]*100).toFixed(0)+"% adjusted)"),h+=r[v]*l[v];console.log("final bonus multiplier:",h);var m=this.timeBonuses[t]/2+this.timeBonuses[t]*h;m=Math.floor(m),console.log("pre-overlong-scaled time mod:",Object(d.msToString)(m)),(m=Math.floor(m*(-1*m/3e12+1)))<-1e3&&(m=3e12),m<1&&(m=1);var w=36e6;this.settings.oncePerDay&&m<w&&(m=w),console.log("old time mod:",Object(d.msToString)(this.timeMod)),console.log("new time mod:",Object(d.msToString)(m)),console.log("");var y=new Date(Date.now()+m).getTime(),x=this.totalReviews+1,k=this.again+("again"===t?1:0),_=x-k;this.$store.commit("studyCard",{id:this.id,lastStudied:Date.now(),timeMod:m,nextReview:y,totalReviews:x,ok:_,again:k}),this.$emit("done",m)},getTimeBonus:function(t){var e=(!this.timeMod||isNaN(this.timeMod)?0:this.timeMod)*l[t];e<c&&(e=c),"again"===t&&(e=0);var n=1-Math.min(.8,(Date.now()-(this.nextReview||Date.now()))/2592e6);return"again"===t&&console.log("overdue multiplier:",n.toFixed(2)),e*=n},keyDown:function(t){var e=this;"Control"===t.key&&(this.metaDown=!0),"Meta"===t.key?this.metaDown=!0:"i"===t.key&&this.metaDown&&(this.$store.commit("updateCard",{id:this.id,imageURL:"loading"}),Object(d.getRandomImage)(this.front||this.back).then((function(image){image&&e.$store.commit("updateCard",{id:e.id,imageURL:image})}))),this.isStudying&&!this.isEditingText&&("1"===t.key&&this.showBack&&this.answer("again"),"2"===t.key&&this.showBack?this.answer("hard"):" "===t.key||"Enter"===t.key?(t.preventDefault(),t.stopPropagation(),this.showBack?this.answer("ok"):this.showBackAction()):"3"===t.key&&this.showBack?this.answer("ok"):"p"===t.key&&this.$emit("postpone"))},keyUp:function(t){"Control"===t.key&&(this.metaDown=!1),"Meta"===t.key&&(this.metaDown=!1)}}},v=(n(269),n(52)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.settings.languageTools?n("AutoSpeaker",{attrs:{text:t.textToSpeak,language:t.settings.languageTools}}):t._e(),t._v(" "),n("Card",{ref:"card",staticClass:"card",attrs:{id:t.id,front:t.front,back:t.back,reverse:t.reverse,"time-mod":t.timeMod,"next-review":t.nextReview,"total-reviews":t.totalReviews,created:t.created,ok:t.ok,again:t.again,"for-study":!0,"show-back":t.showBack,set:t.set,"image-u-r-l":t.imageURL},on:{showBack:t.showBackAction}}),t._v(" "),n("div",{staticClass:"buttonlist primary"},[t.showBack?[void 0!==t.timeBonuses.again?n("button",{key:"again",on:{click:function(e){return t.answer("again")}}},[t._v("\n        Wrong\n        "),n("span",{staticClass:"sub"},[n("span",{staticClass:"fade"},[t._v(t._s(t.msToString(0,!0)))])]),t._v(" "),t._m(1)]):t._e(),t._v(" "),t.timeBonuses.hard?n("button",{key:"hard",on:{click:function(e){return t.answer("hard")}}},[t._v("\n        Hard\n        "),n("span",{staticClass:"sub"},[n("span",{staticClass:"fade"},[t._v("~"+t._s(t.msToString(t.timeBonuses.hard,!0)))])]),t._v(" "),t._m(2)]):t._e(),t._v(" "),t.timeBonuses.ok?n("button",{key:"ok",on:{click:function(e){return t.answer("ok")}}},[t._v("\n        Right\n        "),n("span",{staticClass:"sub"},[n("span",{staticClass:"fade"},[t._v("~"+t._s(t.msToString(t.timeBonuses.ok,!0)))])]),t._v(" "),n("div",[n("kbd",{staticClass:"keyicon"},[t._v("3")]),t._v(" "),t.isMobile?t._e():n("span",[t._v("/")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("Space")])])]):t._e()]:n("button",{key:"showback",staticClass:"showback",on:{click:t.showBackAction}},[t._v("\n      Show Back\n      "),t._m(0)])],2),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"centertext"},[n("button",{staticStyle:{"padding-right":"15%","padding-left":"15%"},on:{click:function(e){return t.$emit("postpone")}}},[t._v("\n      Postpone\n      "),t._m(3)])])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("kbd",{staticClass:"keyicon"},[t._v("Space")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("kbd",{staticClass:"keyicon"},[t._v("1")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("kbd",{staticClass:"keyicon"},[t._v("2")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"keyicon"},[t._v("P")])])}],!1,null,"7b776baa",null);e.default=component.exports;installComponents(component,{AutoSpeaker:n(244).default,Card:n(253).default})},254:function(t,e,n){"use strict";n.r(e);var r={props:{toStudy:{},startedWith:{}},components:{},data:function(){return{adjustedStartedWith:this.toStudy.length}},computed:{},watch:{toStudy:function(t){t.length>=this.startedWith&&(this.adjustedStartedWith=t.length)},startedWith:function(t){t>=this.toStudy.length&&(this.adjustedStartedWith=t)}},mounted:function(){},beforeDestroy:function(){},methods:{}},o=(n(271),n(52)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"remainingcards"},[t._l(t.adjustedStartedWith-t.toStudy.length>0?t.adjustedStartedWith-t.toStudy.length:0,(function(t){return n("div",{key:t,staticClass:"card"})})),t._v(" "),t._l(t.toStudy,(function(t,e){return n("div",{key:t.id,staticClass:"card",class:{review:t.totalReviews,new:!t.totalReviews,current:0===e}})}))],2)}),[],!1,null,"805d34fa",null);e.default=component.exports},255:function(t,e,n){"use strict";n(241)},256:function(t,e,n){var r=n(134)(!1);r.push([t.i,".editabletext{cursor:pointer}.editabletext.placeholder{color:rgba(0,0,0,.2)}.editabletext.editabletextediting{cursor:text}",""]),t.exports=r},257:function(t,e,n){var content=n(288);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("c024369a",content,!0,{sourceMap:!1})},258:function(t,e,n){"use strict";n(242)},259:function(t,e,n){var r=n(134)(!1);r.push([t.i,".reviewgraph[data-v-451472b2]{width:100%;margin-bottom:30px}.reviewgraph .bars[data-v-451472b2]{height:70px;display:flex;justify-content:stretch;align-items:flex-end}.reviewgraph .bars .fill[data-v-451472b2]{flex:1;background:#ddd;margin:0 3px;border-top-right-radius:5px;border-top-left-radius:5px;position:relative;transition:all 1s;height:0}.reviewgraph .count[data-v-451472b2]{font-size:.8em;opacity:.3;position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(-93%)}.reviewgraph .labels[data-v-451472b2]{margin-top:2px;display:flex;justify-content:stretch;text-align:center}.reviewgraph .labels>*[data-v-451472b2]{flex:1}",""]),t.exports=r},260:function(t,e,n){"use strict";n(243)},261:function(t,e,n){var r=n(134)(!1);r.push([t.i,".floattext[data-v-d16cf874]{z-index:1000;width:100%;left:0;position:absolute;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;font-weight:600;-webkit-animation:pointsscroll-data-v-d16cf874 1.5s ease-out normal forwards;animation:pointsscroll-data-v-d16cf874 1.5s ease-out normal forwards}@-webkit-keyframes pointsscroll-data-v-d16cf874{0%{opacity:0;bottom:0}50%{opacity:1}to{opacity:0;bottom:100px}}@keyframes pointsscroll-data-v-d16cf874{0%{opacity:0;bottom:0}50%{opacity:1}to{opacity:0;bottom:100px}}",""]),t.exports=r},262:function(t,e,n){var content=n(290);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("2123754a",content,!0,{sourceMap:!1})},263:function(t,e,n){var content=n(293);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("1d1a0006",content,!0,{sourceMap:!1})},264:function(t,e,n){var content=n(295);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("59ddf4ea",content,!0,{sourceMap:!1})},265:function(t,e,n){"use strict";n(245)},266:function(t,e,n){var r=n(134)(!1);r.push([t.i,'.toggle[data-v-96c47868]{display:grid;grid-template-columns:60px 1fr;grid-gap:10px;cursor:pointer}.toggle .icon[data-v-96c47868]{position:relative;width:3.7rem;height:1.7rem;border:1px solid #bbb;border-radius:.85rem;z-index:1;transition:.3s}.toggle .icon[data-v-96c47868]:before{content:"OFF";position:absolute;left:55%;top:24%;font-size:.65rem;font-weight:800;opacity:.5;z-index:1;transition:.3s}.toggle .icon[data-v-96c47868]:after{content:"";position:absolute;left:5%;top:6%;width:1.4rem;height:1.4rem;z-index:2;background:#bbb;border-radius:.7rem;transition:.3s}.toggle.on .icon[data-v-96c47868]{border:1px solid transparent;background:#4c4}.toggle.on .icon[data-v-96c47868]:before{content:"ON";color:#fff;opacity:1;left:15%}.toggle.on .icon[data-v-96c47868]:after{left:58%;background:#fff}.toggle .label[data-v-96c47868]{margin-top:.1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:600}',""]),t.exports=r},267:function(t,e,n){"use strict";var r=n(5),o=n(1),d=n(4),c=n(55),l=n(268),f=n(183),h=n(7),v=o.RangeError,m=o.String,w=Math.floor,y=d(f),x=d("".slice),k=d(1..toFixed),_=function(t,e,n){return 0===e?n:e%2==1?_(t,e-1,n*t):_(t*t,e/2,n)},S=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=w(r/1e7)},C=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=w(n/t),n=n%t*1e7},T=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=m(data[t]);s=""===s?e:s+y("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:h((function(){return"0.000"!==k(8e-5,3)||"1"!==k(.9,0)||"1.25"!==k(1.255,2)||"1000000000000000128"!==k(0xde0b6b3a7640080,0)}))||!h((function(){k({})}))},{toFixed:function(t){var e,n,r,o,d=l(this),f=c(t),data=[0,0,0,0,0,0],h="",w="0";if(f<0||f>20)throw v("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return m(d);if(d<0&&(h="-",d=-d),d>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(d*_(2,69,1))-69)<0?d*_(2,-e,1):d/_(2,e,1),n*=4503599627370496,(e=52-e)>0){for(S(data,0,n),r=f;r>=7;)S(data,1e7,0),r-=7;for(S(data,_(10,r,1),0),r=e-1;r>=23;)C(data,1<<23),r-=23;C(data,1<<r),S(data,1,1),C(data,2),w=T(data)}else S(data,0,n),S(data,1<<-e,0),w=T(data)+y("0",f);return w=f>0?h+((o=w.length)<=f?"0."+y("0",f-o)+w:x(w,0,o-f)+"."+x(w,o-f)):h+w}})},268:function(t,e,n){var r=n(4);t.exports=r(1..valueOf)},269:function(t,e,n){"use strict";n(246)},270:function(t,e,n){var r=n(134)(!1);r.push([t.i,".card[data-v-7b776baa]{margin-bottom:20px}.showback[data-v-7b776baa]{width:100%}@media(max-width:768px){.buttonlist.primary[data-v-7b776baa]{position:relative;z-index:1000;width:100%;border-radius:0;position:fixed;bottom:0;left:0;border-bottom:none}.buttonlist.primary button[data-v-7b776baa]{background:#eee;border-radius:0}.buttonlist.primary button[data-v-7b776baa]:hover{background:#ddd}}",""]),t.exports=r},271:function(t,e,n){"use strict";n(247)},272:function(t,e,n){var r=n(134)(!1);r.push([t.i,".remainingcards[data-v-805d34fa]{display:flex;justify-content:center;align-items:center;width:100%;height:10px;position:relative;margin:10px 0 20px}.remainingcards .card[data-v-805d34fa]{flex-shrink:1;flex-grow:0;width:4px;height:4px;background:#ddd;opacity:.5;transform:scaleX(1)}.remainingcards .card.review[data-v-805d34fa]{background:#bbb}.remainingcards .card.review.current[data-v-805d34fa]{opacity:1}.remainingcards .card.new[data-v-805d34fa]{background:#bbb}.remainingcards .card.new.current[data-v-805d34fa]{opacity:1}.remainingcards .card.current[data-v-805d34fa]{flex-shrink:0;-webkit-animation-duration:0s;animation-duration:0s;width:10px;height:10px;border-radius:5px}",""]),t.exports=r},273:function(t,e,n){"use strict";n.r(e);n(79),n(80),n(182),n(15),n(63),n(27),n(106);var r=n(240),o=n(250),d=n(251),c=n(180),l=n(23),f=n(238),h=(n(136),n(53),n(65),n(138),{components:{FloatingText:r.default,EditableTextFieldMarkdown:o.default,ImageLoader:d.default},props:{},data:function(){return{front:"",back:"",imageURL:"",metaDown:!1,floatText:"",isDuplicate:!1,setFocus:"front",isFirefox:navigator.userAgent.toLowerCase().includes("firefox"),loadingAutocomplete:!1}},computed:{languageTools:function(){return this.$store.state.setList[this.$store.state.currentSetId].settings.languageTools},cards:function(){return this.$store.state.setList[this.$store.state.currentSetId].cards}},watch:{front:function(t){if(t.length<2)return this.isDuplicate=!1;this.isDuplicate=this.cards.find((function(e){return e.front.toLowerCase()===t.toLowerCase()}))}},mounted:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),this.$store.commit("setAppState","addCard")},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp),this.$store.commit("setIsEditingText",!1)},methods:{newCard:function(){var t=this;(this.front||this.imageURL)&&this.back&&(this.$store.commit("addCard",{id:Date.now(),front:this.front,back:this.back,imageURL:this.imageURL,nextReview:0,set:parseInt(this.$store.state.currentSetId)}),this.floatText="Card added.",setTimeout((function(){return t.floatText=""}),1500),this.$nextTick((function(){t.front="",t.back="",t.imageURL="",t.isDuplicate=!1,t.setFocus=null,t.$nextTick((function(){return t.setFocus="front"}))})))},keyDown:function(t){"Control"===t.key&&(this.metaDown=!0),"Meta"===t.key&&(this.metaDown=!0),"Enter"===t.key&&this.metaDown&&this.$nextTick(this.newCard),"i"===t.key&&this.metaDown&&(t.preventDefault(),t.stopPropagation(),this.autoSetImage()),"m"===t.key&&this.metaDown&&(t.preventDefault(),t.stopPropagation(),this.autoComplete())},keyUp:function(t){"Control"===t.key&&(this.metaDown=!1),"Meta"===t.key&&(this.metaDown=!1)},focus:function(){this.$store.commit("setIsEditingText",!0)},tab:function(t){var e=this;t.preventDefault(),this.setFocus=null,this.$nextTick((function(){return e.setFocus="back"}))},shiftTab:function(t){var e=this;t.preventDefault(),this.setFocus=null,this.$nextTick((function(){return e.setFocus="front"}))},setImageURL:function(t){this.imageURL=t},autoSetImage:function(){var t=this;Object(c.getRandomImage)(this.front||this.back).then((function(image){image&&(t.imageURL=image)}))},autoComplete:function(){var t=this;this.loadingAutocomplete=!0;var e=!!this.front,n=(e?this.front:this.back).split("\n")[0];if(!n)return this.loadingAutocomplete=!1,console.log("no basis text");(function(t){var e=t.language,n=t.textToBaseOn,r=t.basedOnFrontText,o=t.front,d=t.back;return"ja"===e?new Promise((function(t){var e=/[\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF\u3400-\u4DBF]/.test(n),c=/[\u4E00-\u9FAF\u3400-\u4DBF]/.test(n);try{fetch("https://us-central1-general-prototype-project.cloudfunctions.net/cors-proxy?url=https://jisho.org/api/v1/search/words?keyword=".concat(n)).then((function(t){return t.json()})).then((function(data){return data.data[0]})).then((function(n){n||(r&&t({front:"",back:"Couldn't find a definition for that!"}),t({back:"",front:"Couldn't find a definition for that!"}));var l=n.is_common,h=o,v=d,m=!1,w=n.senses.slice(0,2).reduce((function(t,e){return[].concat(Object(f.a)(t),Object(f.a)(e.english_definitions.slice(0,2)))}),[]).join(", ");r?e?(c&&n.japanese[0].reading?v=n.japanese[0].reading:!c&&n.japanese[0].word&&(v=n.japanese[0].word),v=v+"\n"+w):e||(h=w,v=(n.japanese[0].word?n.japanese[0].word+"\n":"")+(n.japanese[0].reading?n.japanese[0].reading:""),m=!0):r||(e?(h=w,v=(n.japanese[0].word?n.japanese[0].word+"\n":"")+(n.japanese[0].reading?n.japanese[0].reading:""),m=!0):e||(h=n.japanese[0].word?n.japanese[0].word:n.japanese[0].reading?n.japanese[0].reading:"Whoops, couldn't find that one.",v=(n.japanese[0].reading?n.japanese[0].reading+"\n":"")+w)),t({front:h,back:v+=l?"":"\n_(uncommon word)_",shouldAutoSetImage:m})}))}catch(e){t({front:r?n:"Error in fetching data!",back:r?"Error in fetching data!":n})}})):"es"===e?new Promise((function(t){try{fetch("https://us-central1-general-prototype-project.cloudfunctions.net/cors-proxy?url=https://www.spanishdict.com/translate/".concat(n)).then((function(t){return console.log(t.status),t.text()})).then((function(e){var n=/<div id="headword-(en|es)" [^>]*><h1 [^<]*>([^<]*)<\/h1><\/div>.*<div .*quickdef[^>]*><a href="\/translate[^>]*>([^<]*)/g.exec(e);if(!n)return r&&t({front:"",back:"Couldn't find a definition for that!"}),void t({back:"",front:"Couldn't find a definition for that!"});var o=Object(l.a)(n,4),d=(o[0],o[1]),c=o[2],f=o[3];console.log(d,c,f),t({front:r?c:f,back:r?f:c,shouldAutoSetImage:r&&"en"===d||!r&&"es"===d})}))}catch(e){t({front:r?n:"Error in fetching data!",back:r?"Error in fetching data!":n})}})):void resolve({front:r?n:"That language isn't supported yet!",back:r?"That language isn't supported yet!":n})})({front:this.front,back:this.back,basedOnFrontText:e,textToBaseOn:n,language:this.languageTools}).then((function(e){console.log(e),t.front=e.front||t.front,t.back=e.back||t.back,t.imageURL="",e.shouldAutoSetImage&&t.autoSetImage(),t.loadingAutocomplete=!1}))}}}),v=(n(289),n(52)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cardcreator",class:{loading:t.loadingAutocomplete}},[n("div",{staticClass:"cardframe"},[n("EditableTextFieldMarkdown",{staticClass:"textfield front",class:{duplicate:t.isDuplicate},attrs:{focus:"front"===t.setFocus,placeholder:"Hint"},on:{startEdit:t.focus,next:t.tab,setImageURL:t.setImageURL},model:{value:t.front,callback:function(e){t.front=e},expression:"front"}}),t._v(" "),t.imageURL?n("div",{staticClass:"imagecontainer",on:{click:function(e){t.imageURL=""}}},[n("ImageLoader",{attrs:{url:t.imageURL}})],1):t._e(),t._v(" "),n("EditableTextFieldMarkdown",{staticClass:"textfield back",attrs:{focus:"back"===t.setFocus,placeholder:"Answer"},on:{startEdit:t.focus,prev:t.shiftTab,setImageURL:t.setImageURL},model:{value:t.back,callback:function(e){t.back=e},expression:"back"}})],1),t._v(" "),n("FloatingText",{attrs:{text:t.floatText,offset:"-30"}}),t._v(" "),n("div",{staticClass:"buttonlist"},[n("button",{on:{click:t.newCard}},[n("div",[t._v("Add Card")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("⌘-Enter")])])]),t._v(" "),t.front||t.back?n("center",[["ja","es"].includes(t.languageTools)?[n("button",{on:{click:t.autoComplete}},[n("div",[t._v("Auto-Complete Card")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v(t._s(t.isFirefox?"ctrl":"⌘")+"-m")])]),t._v(" "),n("br"),t._v(" "),n("br")]:t._e(),t._v(" "),n("span",{staticClass:"sub"},[t._v("Paste an image link to add your own image.")]),t._v(" "),n("span",{staticClass:"sub"},[t._v("Or,")]),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:t.autoSetImage}},[n("div",[t._v("Auto-Set Image")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v(t._s(t.isFirefox?"ctrl":"⌘")+"-i")])]),t._v(" "),n("br"),t._v(" "),t.imageURL?n("div",{staticClass:"sub",staticStyle:{position:"relative",top:"5px"}},[t._v("\n      (click image to remove it)\n    ")]):t._e(),t._v(" "),n("br"),t._v(" "),n("br")],2):t._e()],1)}),[],!1,null,"92420c42",null);e.default=component.exports;installComponents(component,{EditableTextFieldMarkdown:n(250).default,ImageLoader:n(251).default,FloatingText:n(240).default})},274:function(t,e,n){"use strict";n.r(e);var r=n(25),o=(n(63),n(65),n(44),n(37),n(35),n(45),n(15),n(71),n(36),n(72),n(237)),d=n(249);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l={props:{},components:{EditableTextField:o.default,Toggle:d.default},data:function(){return{selectedLanguageTools:null,displaySpeechSpeed:4,speechSpeedUpdateTimer:null,languages:{none:"None",ar:"Arabic",zh:"Chinese",da:"Danish",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",ko:"Korean",es:"Spanish"}}},computed:{currentSet:function(){return this.$store.state.setList[this.$store.state.currentSetId]},settings:function(){return this.$store.state.setList[this.$store.state.currentSetId].settings||{}}},mounted:function(){this.selectedLanguageTools=this.settings.languageTools||"none",this.displaySpeechSpeed=9*(this.settings.speechSpeed-.5)+1||4},beforeDestroy:function(){},watch:{selectedLanguageTools:function(t){var e="none"===t?null:t;this.updateSettings({languageTools:e})},displaySpeechSpeed:function(){var t=this;clearTimeout(this.speechSpeedUpdateTimer),this.speechSpeedUpdateTimer=setTimeout((function(){return t.updateSettings({speechSpeed:(t.displaySpeechSpeed-1)/9+.5})}),1e3)}},methods:{deleteSet:function(){confirm('Do you really want to delete the set "'.concat(this.currentSet.name,'" with ').concat(this.currentSet.cards?this.currentSet.cards.length:0," cards?"))&&(this.$store.commit("deleteSet",this.currentSet.id),this.$store.commit("setAppState","study"))},updateSettings:function(t){this.$store.commit("updateSetSettings",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t))},updateMaxNewPerDay:function(t){var e=0===parseInt(t)?0:parseInt(t)||10;this.$store.commit("updateSetSettings",{maxNewPerDay:e})},updateMaxReviewsPerDay:function(t){var e=0===parseInt(t)?0:parseInt(t)||0;this.$store.commit("updateSetSettings",{maxReviewsPerDay:e})},downloadSet:function(){var t,e,n,r;t=this.currentSet,e=this.currentSet.name+" "+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString(),n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),(r=document.createElement("a")).setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()}}};var f=l,h=(n(287),n(52)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("div",{staticClass:"settingslist"},[t.settings.autoAddNew?t._e():n("p",[n("EditableTextField",{staticClass:"visibletextfield marright",attrs:{text:""+(0===t.settings.maxNewPerDay?0:t.settings.maxNewPerDay||10),lineBreaksAllowed:!1},on:{endEdit:t.updateMaxNewPerDay}}),t._v(" "),n("b",[t._v("New cards per day")])],1),t._v(" "),n("p",[n("EditableTextField",{staticClass:"visibletextfield marright",attrs:{text:""+(0===t.settings.maxReviewsPerDay?0:t.settings.maxReviewsPerDay||0),lineBreaksAllowed:!1},on:{endEdit:t.updateMaxReviewsPerDay}}),t._v(" "),t._m(0)],1),t._v(" "),n("Toggle",{key:"rev",attrs:{setTo:t.settings.studyReverse,label:"Study cards back-to-front"},on:{toggled:function(e){t.updateSettings({studyReverse:!!!t.settings.studyReverse})}}}),t._v(" "),n("Toggle",{key:"mix",attrs:{setTo:t.settings.shuffleCards,label:"Shuffle cards (new & reviews)"},on:{toggled:function(e){t.updateSettings({shuffleCards:!!!t.settings.shuffleCards})}}}),t._v(" "),n("Toggle",{key:"once",attrs:{setTo:t.settings.oncePerDay,label:"Only see cards once per day"},on:{toggled:function(e){t.updateSettings({oncePerDay:!!!t.settings.oncePerDay})}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedLanguageTools,expression:"selectedLanguageTools"}],staticClass:"marright",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedLanguageTools=e.target.multiple?n:n[0]}}},t._l(t.languages,(function(e,r){return n("option",{key:r,domProps:{value:r}},[t._v(t._s(e))])})),0),t._v(" "),n("b",[t._v("Language Tools")]),t._v(" "),t.selectedLanguageTools&&"none"!==t.selectedLanguageTools?n("Toggle",{key:"autospeak",attrs:{setTo:t.settings.autoSpeak,label:"Auto-speak card backs"},on:{toggled:function(e){t.updateSettings({autoSpeak:!!!t.settings.autoSpeak})}}}):t._e(),t._v(" "),t.selectedLanguageTools&&"none"!==t.selectedLanguageTools?n("Toggle",{key:"autospeakfront",attrs:{setTo:t.settings.autoSpeakFront,label:"Auto-speak card fronts"},on:{toggled:function(e){t.updateSettings({autoSpeakFront:!!!t.settings.autoSpeakFront})}}}):t._e(),t._v(" "),t.selectedLanguageTools&&"none"!==t.selectedLanguageTools?[n("input",{directives:[{name:"model",rawName:"v-model",value:t.displaySpeechSpeed,expression:"displaySpeechSpeed"}],key:"speechspeed",staticClass:"slider",attrs:{type:"range",min:"1",max:"10"},domProps:{value:t.displaySpeechSpeed},on:{__r:function(e){t.displaySpeechSpeed=e.target.value}}}),t._v(" "),n("b",[t._v("Speech Speed: "+t._s(Math.round(t.displaySpeechSpeed)))])]:t._e(),t._v(" "),n("div",[t._v("Click your set's name (above) to edit it.")]),t._v(" "),n("button",{on:{click:t.downloadSet}},[t._v("Download Set")]),t._v(" "),n("button",{on:{click:t.deleteSet}},[t._v("Delete Set")])],2)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b",{staticStyle:{position:"relative"}},[t._v("Max reviews per day "),n("span",{staticClass:"below sub"},[t._v("(0 for no limit)")])])}],!1,null,"cd4bdebc",null);e.default=component.exports;installComponents(component,{EditableTextField:n(237).default,Toggle:n(249).default})},275:function(t,e,n){"use strict";n.r(e);n(15);var r={props:{id:{}},components:{ReviewGraph:n(239).default},data:function(){return{}},computed:{currentSet:function(){return this.$store.state.setList[this.$store.state.currentSetId]},totalReviews:function(){return this.oks+this.agains},newCards:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.totalReviews&&0!==e.totalReviews?0:1)}),0)},oks:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.ok?e.ok:0)}),0)},agains:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.again?e.again:0)}),0)},masteredCards:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.ok&&e.ok>5&&e.ok/(e.again?e.again:0)>4?1:0)}),0)}},mounted:function(){},beforeDestroy:function(){},watch:{},methods:{}},o=n(52),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stats"},[n("p",[t._v("\n    Cards: "),n("b",[t._v(t._s(t.currentSet.cards.length))])]),t._v(" "),n("p",[t._v("\n    Mastered Cards: "),n("b",[t._v(t._s(t.masteredCards))]),t._v(" "),n("span",{staticClass:"sub"},[t._v("("+t._s(Math.round(t.masteredCards/t.currentSet.cards.length*100))+"%)")])]),t._v(" "),n("p",[t._v("\n    New Cards: "),n("b",[t._v(t._s(t.newCards))])]),t._v(" "),n("p",[t._v("\n    Deck Created:\n    "),n("b",[t._v(t._s(new Date(parseInt(t.currentSet.id)).toLocaleDateString()))])]),t._v(" "),n("p",[t._v("\n    Total Reviews: "),n("b",[t._v(t._s(t.totalReviews))])]),t._v(" "),n("p",[t._v("\n    Success Rate:\n    "),n("b",[t._v(t._s(t.oks&&t.agains?Math.round(t.oks/(t.agains+t.oks)*1e4)/100:0)+"%")]),t._v(" "),t.oks&&t.agains?n("span",{staticClass:"sub"},[t._v("("+t._s(t.oks)+" oks / "+t._s(t.agains)+" agains)")]):t._e()]),t._v(" "),n("ReviewGraph",{attrs:{cards:t.currentSet.cards}})],1)}),[],!1,null,"218372f3",null);e.default=component.exports;installComponents(component,{ReviewGraph:n(239).default})},276:function(t,e,n){"use strict";n.r(e);var r=n(238),o=(n(53),n(296),n(45),n(15),n(65),n(182),n(63),n(252)),d=n(237),c=n(254),l=n(239),f=n(240),h=n(180),v={components:{SingleCardStudy:o.default,ReviewGraph:l.default,FloatingText:f.default,EditableTextField:d.default,RemainingCardIndicator:c.default},props:{cards:{}},data:function(){return{refreshCardsTimer:null,startedWith:0,displayTimeMod:null,updatedCards:[],cardsToStudy:[]}},computed:{appState:function(){return this.$store.state.appState},currentSetId:function(){return this.$store.state.currentSetId},settings:function(){return this.$store.state.setList[this.$store.state.currentSetId].settings||{}},newToday:function(){return this.$store.state.setList[this.$store.state.currentSetId].newToday},reviewsToday:function(){return this.$store.state.setList[this.$store.state.currentSetId].reviewsToday},doneForDay:function(){return this.doneReviewing&&this.doneWithNewCards},newCards:function(){var t=(this.settings.maxNewPerDay||0)-(this.newToday||0);return this.updatedCards.filter((function(t){return!t.totalReviews&&(!t.nextReview||t.nextReview<Date.now())})).sort((function(a,b){return a.id>b.id?1:-1})).slice(0,t>0?t:0)},doneWithNewCards:function(){return this.newToday>=this.settings.maxNewPerDay||0===this.newCards.length},newCardsAreLeftOver:function(){var t=this.updatedCards.filter((function(t){return 0===t.totalReviews||!t.totalReviews})).length;return t>0&&t+this.newToday>this.settings.maxNewPerDay},newCardsLeftOver:function(){return this.newCardsAreLeftOver?this.updatedCards.filter((function(t){return 0===t.totalReviews||!t.totalReviews})).length:0},dueCards:function(){var t=this.settings.maxReviewsPerDay?this.settings.maxReviewsPerDay-(this.reviewsToday||0):99999,e=Date.now();return this.updatedCards.filter((function(t){return t.totalReviews&&t.totalReviews>0&&t.nextReview<e})).sort((function(a,b){return a.nextReview>b.nextReview?1:-1})).slice(0,t>0?t:0)},doneReviewing:function(){return 0===this.dueCards.length||this.settings.maxReviewsPerDay&&this.reviewsToday>=this.settings.maxReviewsPerDay},reviewsAreLeftOver:function(){return this.doneReviewing&&this.dueCards.length},reviewsLeftOver:function(){return this.dueCards.length},allStudyableCards:function(){return this.doneWithNewCards?Object(r.a)(this.dueCards):[].concat(Object(r.a)(this.newCards),Object(r.a)(this.dueCards))},cardToStudy:function(){return this.cardsToStudy[0]},nextReviewIn:function(){if(this.settings.maxReviewsPerDay&&this.reviewsToday>=this.settings.maxReviewsPerDay)return"a day";var t=(this.doneForDay?this.updatedCards.filter((function(t){return t.totalReviews&&t.totalReviews>0})):this.updatedCards).reduce((function(t,e){var n=e.nextReview;return n<t?n:t}),1e19);return Object(h.msToString)(t-Date.now())}},watch:{currentSetId:function(){var t=this;this.toReview=[],this.$nextTick((function(){t.refreshCards(),t.startedWith=t.dueCards.length+t.newCards.length}))},cards:function(){this.$nextTick(this.refreshCards)},doneForDay:function(t){t&&(window.scrollTo(0,0),this.$nextTick(this.refreshCards),this.startedWith=0)},allStudyableCards:function(t){var e=this,n=function(t){return t.sort((function(){return Math.random()-.5}))},o=t.filter((function(t){return!e.cardsToStudy.find((function(e){return e.id===t.id}))}));if(!!this.cardsToStudy.find((function(e){return!t.find((function(t){return e.id===t.id}))})))return this.cardsToStudy=this.settings.shuffleCards?n(t):t;if(0!==o.length){var d,c=[].concat(Object(r.a)(this.cardsToStudy),Object(r.a)(this.settings.shuffleCards?n(o):o));this.cardsToStudy=this.settings.shuffleCards?(d=c,[].concat(Object(r.a)(d.slice(0,1)),Object(r.a)(n(d.slice(1,d.length-2))),Object(r.a)(d.slice(d.length-2)))):c.sort((function(a,b){return a.nextReview-b.nextReview}))}}},mounted:function(){void 0!==this.settings.maxNewPerDay&&null!==this.settings.maxNewPerDay||this.$store.commit("updateSetSettings",{maxNewPerDay:10}),void 0!==this.settings.studyReverse&&null!==this.settings.studyReverse||this.$store.commit("updateSetSettings",{studyReverse:!1}),this.refreshCardsTimer=setInterval(this.refreshCards,1e4),this.refreshCards(),this.startedWith=this.dueCards.length+this.newCards.length},beforeDestroy:function(){clearInterval(this.refreshCardsTimer)},methods:{finishedCurrentCard:function(t){var e=this;if(this.cardsToStudy.shift(),void 0!==t){var text=t?"+"+Object(h.msToString)(t):"Again!";this.displayTimeMod=null,this.$nextTick((function(){return e.displayTimeMod=text})),this.preloadNextImage()}},postponeCurrentCard:function(){var t=this,e=this.cardsToStudy.shift(),n=36e5;this.$store.commit("updateCard",{id:e.id,nextReview:new Date(Date.now()+n).getTime()}),this.displayTimeMod=null,this.$nextTick((function(){return t.displayTimeMod="Postponed for "+Object(h.msToString)(n)})),this.preloadNextImage()},preloadNextImage:function(){var t=this.cardsToStudy[1];t&&t.imageURL&&((new Image).src=t.imageURL,console.log("preloaded",t.imageURL))},refreshCards:function(){this.updatedCards=Object(r.a)(this.cards.filter((function(t){return!t.suspended})))},updateMaxNewPerDay:function(t){var e=parseInt(t)||10;this.$store.commit("updateSetSettings",{maxNewPerDay:e})},updateMaxReviewsPerDay:function(t){var e=parseInt(t)||0;this.$store.commit("updateSetSettings",{maxReviewsPerDay:e})}}},m=(n(292),n(52)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"studyframe",class:{focus:"study"===t.appState||"editCard"===t.appState}},[t.settings.studyReverse?n("div",{staticClass:"sub"},[t._v("\n    Studying cards back-to-front.\n    "),n("u",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$store.commit("updateSetSettings",{studyReverse:!1})}}},[t._v("\n      Back to normal\n    ")])]):t._e(),t._v(" "),n("FloatingText",{attrs:{text:t.displayTimeMod,color:t.displayTimeMod?"Again!"===t.displayTimeMod?"#fa4":"#0c6":"green",offset:"-120"}}),t._v(" "),t.doneForDay?t.doneForDay&&t.reviewsAreLeftOver?[n("div",{staticClass:"padtb centertext"},[n("h3",[t._v("Done for now!")]),t._v(" "),n("div",[t._v("\n        There "+t._s(1===t.reviewsLeftOver?"is":"are")+"\n        "),n("b",[t._v(t._s(t.reviewsLeftOver))]),t._v(" more card"+t._s(1===t.reviewsLeftOver?"":"s")+"\n        due to be reviewed. If you want to study more cards today, change the\n        setting below.\n      ")]),t._v(" "),n("p",{staticClass:"singlesetting"},[n("EditableTextField",{staticClass:"visibletextfield",attrs:{text:""+t.settings.maxReviewsPerDay,"line-breaks-allowed":!1},on:{endEdit:t.updateMaxReviewsPerDay}}),t._v("   "),n("b",[t._v("Max reviews per day (0 for no limit)")])],1),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),t.nextReviewIn?n("p",[t._v("Otherwise, come back tomorrow to study more.")]):t._e()])]:t.doneForDay&&t.newCardsAreLeftOver?[n("div",{staticClass:"padtb centertext"},[n("h3",[t._v("Done for now!")]),t._v(" "),n("div",[t._v("\n        There "+t._s(1===t.newCardsLeftOver?"is":"are")+"\n        "),n("b",[t._v(t._s(t.newCardsLeftOver))]),t._v(" new card"+t._s(1===t.newCardsLeftOver?"":"s")+"\n        remaining to be learned. If you want to study more new cards, change\n        the setting below.\n      ")]),t._v(" "),n("p",{staticClass:"singlesetting"},[n("EditableTextField",{staticClass:"visibletextfield",attrs:{text:""+t.settings.maxNewPerDay,"line-breaks-allowed":!1},on:{endEdit:t.updateMaxNewPerDay}}),t._v("   "),n("b",[t._v("New cards per day")])],1),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),t.nextReviewIn?n("p",[t._v("\n        Otherwise, your next review is in "+t._s(t.nextReviewIn)+".\n      ")]):t._e()])]:0===t.cards.length?[n("div",{staticClass:"padtb centertext"},[n("h3",[t._v("No cards yet!")]),t._v(" "),n("button",{on:{click:function(e){return t.$store.commit("setAppState","addCard")}}},[t._v("\n        + Add Cards\n      ")])])]:[n("div",{staticClass:"padtb centertext"},[n("h3",[t._v("Done for now!")]),t._v(" "),t.nextReviewIn?n("div",[t._v("\n        Your next review is in "+t._s(t.nextReviewIn)+".\n      ")]):t._e()])]:[n("div",{staticClass:"sub centertext padt-small"},[t.newCards.length>0?n("span",[n("b",[t._v(t._s(t.newCards.length))]),t._v(" new card"+t._s(1===t.newCards.length?"":"s")+"\n        "),t.dueCards.length>0?n("span",[t._v("and")]):t._e()]):t._e(),t._v(" "),t.dueCards.length>0?n("span",[n("b",[t._v(t._s(t.dueCards.length))]),t._v(" review"+t._s(1===t.dueCards.length?"":"s")+"\n      ")]):t._e(),t._v("\n      left.\n    ")]),t._v(" "),n("RemainingCardIndicator",{attrs:{"to-study":t.allStudyableCards,"started-with":t.startedWith}}),t._v(" "),n("SingleCardStudy",t._b({attrs:{reverse:t.settings.studyReverse},on:{done:t.finishedCurrentCard,postpone:t.postponeCurrentCard}},"SingleCardStudy",t.cardToStudy,!1))],t._v(" "),t.doneForDay&&t.cards.length>0?[n("ReviewGraph",{attrs:{cards:t.updatedCards,slots:7,"max-time":6048e5,title:"Upcoming reviews:"}})]:t._e()],2)}),[],!1,null,"11daef37",null);e.default=component.exports;installComponents(component,{FloatingText:n(240).default,RemainingCardIndicator:n(254).default,SingleCardStudy:n(252).default,EditableTextField:n(237).default,ReviewGraph:n(239).default})},277:function(t,e,n){"use strict";n.r(e);var r={components:{Browser:n(248).default},computed:{setCards:function(){return this.$store.state.setList[this.$store.state.currentSetId].cards}}},o=(n(294),n(52)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cardbrowser"},[n("Browser",{attrs:{cards:t.setCards}}),t._v(" "),n("button",{staticClass:"add",on:{click:function(e){return t.$store.commit("setAppState","addCard")}}},[n("div",[t._v("Add Card")])])],1)}),[],!1,null,"fb378dc8",null);e.default=component.exports;installComponents(component,{Browser:n(248).default})},282:function(t,e,n){var content=n(314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("72dd9afc",content,!0,{sourceMap:!1})},283:function(t,e,n){var content=n(316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("12fc7b66",content,!0,{sourceMap:!1})},284:function(t,e,n){var content=n(319);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("7f8e0add",content,!0,{sourceMap:!1})},285:function(t,e,n){var content=n(321);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("4e323257",content,!0,{sourceMap:!1})},287:function(t,e,n){"use strict";n(257)},288:function(t,e,n){var r=n(134)(!1);r.push([t.i,".settingslist[data-v-cd4bdebc]{max-width:300px;margin:20px auto 0}.settingslist>*[data-v-cd4bdebc]{margin-bottom:40px}p[data-v-cd4bdebc]{margin-bottom:10px}p>*[data-v-cd4bdebc]{display:inline-block;min-width:55px}.below[data-v-cd4bdebc]{position:absolute;left:0;top:100%}button[data-v-cd4bdebc]{width:100%}.marright[data-v-cd4bdebc]{margin-right:10px}",""]),t.exports=r},289:function(t,e,n){"use strict";n(262)},290:function(t,e,n){var r=n(134)(!1);r.push([t.i,'.cardcreator[data-v-92420c42]{position:relative;margin:0 auto;opacity:1;transition:all .5s}.cardcreator.loading[data-v-92420c42]{pointer-events:none;opacity:.3}.cardcreator>*[data-v-92420c42]{display:block}.cardcreator .cardframe[data-v-92420c42]{position:relative;overflow:hidden;border-radius:10px}.cardcreator .imagecontainer[data-v-92420c42]{background:#f8f8f8;text-align:center}.cardcreator .imagecontainer>*[data-v-92420c42]{margin:0 auto;max-width:80%;max-height:250px}.cardcreator .textfield[data-v-92420c42]{background:#f8f8f8;padding:50px 20px;font-size:1.5rem;text-align:center;transition:background .2s;outline:0}.cardcreator .textfield.editabletextediting[data-v-92420c42]{background:rgba(0,0,0,.05)}.cardcreator .textfield[data-v-92420c42]:after{position:absolute;top:10px;right:-10px;opacity:0;content:"";transition:all .4s;font-weight:600;font-size:.5em}.cardcreator .textfield[data-v-92420c42]:hover:not(.editabletextediting){position:relative;background:rgba(0,0,0,.05)}.cardcreator .textfield[data-v-92420c42]:hover:not(.editabletextediting):after{right:10px;content:"Click to Edit";opacity:1;color:rgba(0,0,0,.2)}.cardcreator .textfield.duplicate[data-v-92420c42]:after{right:10px;content:"Duplicate card!"!important;color:#f52!important;opacity:1}.cardcreator .back[data-v-92420c42]{border-top:1px solid #ddd;transition:.2s}.cardcreator .buttonlist[data-v-92420c42]{display:flex;width:100%;margin-top:20px;margin-bottom:20px}',""]),t.exports=r},292:function(t,e,n){"use strict";n(263)},293:function(t,e,n){var r=n(134)(!1);r.push([t.i,".studyframe[data-v-11daef37]{position:relative;opacity:.3;transition:all .5s}.studyframe.focus[data-v-11daef37]{opacity:1}.padt-small[data-v-11daef37],.padtb-small[data-v-11daef37]{padding-top:15px}.padtb-small[data-v-11daef37]{padding-bottom:15px}.padtb[data-v-11daef37]{padding:100px 0}.progressbar[data-v-11daef37]{position:relative;width:100%;height:0}.progressbar div[data-v-11daef37]{background:#ccc;transition:.5s;height:5px}.singlesetting[data-v-11daef37]{display:inline-block;border-radius:5px;padding:15px 20px;background:#eee}.singlesetting>*[data-v-11daef37]{min-width:50px;display:inline-block}",""]),t.exports=r},294:function(t,e,n){"use strict";n(264)},295:function(t,e,n){var r=n(134)(!1);r.push([t.i,".cardbrowser[data-v-fb378dc8]{position:relative;transition:all .5s;margin:0 auto 200px;font-size:1rem}.add[data-v-fb378dc8]{margin-top:40px;width:100%}",""]),t.exports=r},297:function(t,e,n){"use strict";n.r(e);var r=n(237),o=n(274),d=n(275),c=n(273),l=n(276),f=n(277),h={props:{id:{},name:{},cards:{},lastStudied:{default:function(){return new Date}},newToday:{default:0},reviewsToday:{default:0}},components:{EditableTextField:r.default,SetSettings:o.default,SetStats:d.default,CardCreator:c.default,StudyFrame:l.default,SetBrowser:f.default},data:function(){return{newCardsToday:0,reviewCardsToday:0}},computed:{appState:function(){return this.$store.state.appState},isEditingText:function(){return this.$store.state.isEditingText},setList:function(){return this.$store.state.setList}},mounted:function(){window.addEventListener("keyup",this.keyUp)},beforeDestroy:function(){window.removeEventListener("keyup",this.keyUp)},methods:{startEditName:function(){this.$store.commit("setIsEditingText",!0)},saveEditedName:function(t){this.$store.commit("updateSetName",t),this.$store.commit("setIsEditingText",!1)},keyUp:function(t){this.isEditingText||("s"===t.key&&this.$store.commit("setAppState","study"),"a"===t.key&&this.$store.commit("setAppState","addCard"),"b"===t.key&&this.$store.commit("setAppState","setBrowse"),"t"===t.key&&this.$store.commit("setAppState","setStats"),"e"===t.key&&this.$store.commit("setAppState","setSettings"),"ArrowRight"===t.key&&this.$store.dispatch("goToNextSet"),"ArrowLeft"===t.key&&this.$store.dispatch("goToPreviousSet"))}}},v=(n(313),n(52)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setview"},[n("h1",[n("EditableTextField",{attrs:{text:t.name,placeholder:"Enter set name",lineBreaksAllowed:!1},on:{startEdit:t.startEditName,endEdit:t.saveEditedName}}),t._v(" "),t.cards?n("div",{staticClass:"sub"},[t._v("\n      ("+t._s(t.cards.length)+" card"+t._s(1===t.cards.length?"":"s")+")\n    ")]):t._e()],1),t._v(" "),n("div",{staticClass:"buttonlist"},[n("button",{class:{active:"study"===t.appState||"editCard"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","study")}}},[n("div",[t._v("Study")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("s")])]),t._v(" "),n("button",{class:{active:"addCard"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","addCard")}}},[n("div",[t._v("Add")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("a")])]),t._v(" "),n("button",{class:{active:"setBrowse"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","setBrowse")}}},[n("div",[t._v("Browse")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("b")])]),t._v(" "),n("button",{class:{active:"setStats"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","setStats")}}},[n("div",[t._v("Stats")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("t")])]),t._v(" "),n("button",{class:{active:"setSettings"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","setSettings")}}},[n("div",[t._v("Settings")]),t._v(" "),n("kbd",{staticClass:"keyicon"},[t._v("e")])])]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"setelements"},["addCard"===t.appState||!t.cards&&"study"===t.appState?n("CardCreator",{key:"add"}):"setBrowse"===t.appState?n("SetBrowser",{key:"browse"}):"setSettings"===t.appState?n("SetSettings",{key:"settings"}):"setStats"===t.appState?n("SetStats",{key:"stats"}):n("StudyFrame",{key:"study",attrs:{cards:t.cards}})],1)])}),[],!1,null,"474613a4",null);e.default=component.exports;installComponents(component,{EditableTextField:n(237).default,CardCreator:n(273).default,SetBrowser:n(277).default,SetSettings:n(274).default,SetStats:n(275).default,StudyFrame:n(276).default})},299:function(t,e,n){"use strict";n.r(e);var r=n(238),o={props:{},components:{Browser:n(248).default},computed:{currentUser:function(){return this.$store.state.currentUser},allSets:function(){return this.$store.state.setList},totalStudiedToday:function(){var t=0;for(var e in this.allSets)t+=(this.allSets[e].newToday||0)+(this.allSets[e].reviewsToday||0);return t},allCards:function(){var t=[];for(var e in this.allSets)t.push.apply(t,Object(r.a)(this.allSets[e].cards));return t}},methods:{logOut:function(){this.$store.commit("logOut")}}},d=(n(315),n(52)),component=Object(d.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userview"},[n("h1",[t._v("\n    Hi, "+t._s(t.currentUser)+"!\n    "),n("div",{staticClass:"buttonlist",staticStyle:{display:"inline-block"}},[n("button",{on:{click:t.logOut}},[t._v("Log out")])])]),t._v(" "),t.allCards.length>0?[n("div",[t._v("You've studied "+t._s(t.totalStudiedToday)+" cards today.")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h1",[t._v("\n      All Your Cards\n      "),n("span",{staticClass:"sub"},[t._v("("+t._s(t.allCards.length)+" total cards)")])]),t._v(" "),n("Browser",{attrs:{cards:t.allCards,inline:!0}})]:t._e()],2)}),[],!1,null,"71cd51be",null);e.default=component.exports;installComponents(component,{Browser:n(248).default})},300:function(t,e,n){"use strict";n.r(e);var r=n(25),o=(n(45),n(15),n(317),n(63),n(79),n(80),n(185).get),d=n(180).getNumberDueInSet,c={components:{},props:{},data:function(){return{isLoading:!1,inputUsername:"",dueReviews:{},setPickerOpen:!1}},computed:Object(r.a)({currentUser:function(){return this.$store.state.currentUser},appState:function(){return this.$store.state.appState},setList:function(){return this.$store.state.setList||[]},setListWithoutCurrentSet:function(){var t=this;return Object.values(this.setList).filter((function(s){return s.id!==t.currentSetId}))},currentSetId:function(){return this.$store.state.currentSetId},currentCards:function(){return this.$store.state.setList[this.$store.state.currentSetId]?this.$store.state.setList[this.$store.state.currentSetId].cards:[]},isMobile:function(){return this.$store.state.isMobile}},"appState",(function(){return this.$store.state.appState})),watch:{currentUser:function(t){this.isLoading=!1;var e=o("currentSetId");e&&""!==e&&this.$store.commit("setCurrentSetId",e),t||this.$nextTick(this.focusInput)},setList:function(){this.isLoading=!1,this.updateDueReviews()},currentCards:function(){this.updateDueReviews()},currentSetId:function(){this.isLoading=!1,this.updateDueReviews()},setPickerOpen:function(t){t?window.addEventListener("click",this.checkClickToClose):window.removeEventListener("click",this.checkClickToClose)}},mounted:function(){window.addEventListener("keydown",this.keyDown),this.updateDueReviews(),window.setInterval(this.updateDueReviews,6e5);var t=o("currentUser");t&&""!==t?(this.$store.dispatch("logInAs",t),this.isLoading=!0):this.$nextTick(this.focusInput)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown)},methods:{logInAs:function(){""!==this.inputUserName&&(this.isLoading=!0,this.$store.dispatch("logInAs",this.inputUsername))},logOut:function(){this.$store.commit("logOut")},keyDown:function(t){if(this.currentUser)return this.updateDueReviews();"Enter"===t.key&&this.logInAs()},focusInput:function(){this.$refs.usernameInput.focus()},switchSet:function(t){this.$store.commit("setCurrentSetId",t)},updateDueReviews:function(){for(var t in this.dueReviews={},this.setList)new Date(this.setList[t].lastUpdated).getDate()!==(new Date).getDate()&&this.$store.commit("resetSetDay",t),this.dueReviews[t]=d(this.setList[t])},checkClickToClose:function(t){t.path.includes(this.$refs.mainButton)||(this.setPickerOpen=!1)},uploaded:function(t){var e=this,n=t.target.files[0],r=new FileReader;r.onload=function(t){var n=JSON.parse(t.target.result);e.$store.commit("uploadSet",n)},r.readAsText(n)}}},l=(n(318),n(52)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userandsetpicker",class:{fullscreen:!t.currentUser||t.isLoading,vertical:!t.currentUser}},[n("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{type:"file",accept:".json"},on:{change:t.uploaded}}),t._v(" "),t.currentUser||t.isLoading?t.isLoading?[n("div",{staticClass:"sub"},[t._v("Loading...")])]:[t.isMobile?n("div",{ref:"mainButton",staticClass:"buttonlist fullheight"},["user"===t.appState?n("button",{staticClass:"mainbutton",on:{click:function(e){return t.$store.commit("setAppState","study")}}},[t._v("\n        ← Back to Studying\n      ")]):t.setList[t.currentSetId]?n("button",{key:t.setList[t.currentSetId].id,staticClass:"mainbutton",class:{open:t.setPickerOpen},staticStyle:{position:"relative"},on:{click:function(e){t.setPickerOpen=!t.setPickerOpen}}},[t._v("\n        "+t._s(t.setList[t.currentSetId].name)+" ▾\n        "),t.setPickerOpen?n("div",{staticClass:"secondarypanel"},[t._l(t.setListWithoutCurrentSet,(function(e){return n("button",{key:e.id,class:{duecards:t.dueReviews[e.id]>0},on:{click:function(n){return t.switchSet(e.id)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),t._v(" "),n("button",{on:{click:function(e){return t.$refs.uploader.click()}}},[t._v("Upload Set")]),t._v(" "),n("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("+ Add Set")])],2):t._e()]):n("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("\n        + Add Set\n      ")])]):n("div",{staticClass:"buttonlist fullheight inlineblock"},[t._l(t.setList,(function(e){return n("button",{key:e.id,class:{active:parseInt(t.currentSetId)===parseInt(e.id)&&"user"!==t.appState},on:{click:function(n){return t.switchSet(e.id)}}},[t._v("\n        "+t._s(e.name)+"\n        "),!t.isMobile&&t.dueReviews[e.id]>0&&(parseInt(t.currentSetId)!==parseInt(e.id)||"user"===t.appState)?n("span",{staticClass:"sub"},[t._v("\n          ("+t._s(t.dueReviews[e.id])+")\n        ")]):t._e()])})),t._v(" "),n("button",{on:{click:function(e){return t.$refs.uploader.click()}}},[t._v("Upload Set")]),t._v(" "),n("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("Add Set")])],2),t._v(" "),n("div",{staticClass:"flex-ai"},[n("div",{staticClass:"buttonlist fullheight inlineblock"},[n("button",{class:{active:"user"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","user")}}},[t._v("\n          "+t._s(t.currentUser))]),t.isMobile?t._e():n("button",{on:{click:t.logOut}},[t._v("Log out")])])])]:[t._m(0),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputUsername,expression:"inputUsername"}],ref:"usernameInput",staticClass:"username",attrs:{placeholder:"username"},domProps:{value:t.inputUsername},on:{input:function(e){e.target.composing||(t.inputUsername=e.target.value)}}})]),t._v(" "),n("div",[n("button",{staticClass:"loginbutton",on:{click:t.logInAs}},[t._v("Go")])])]],2)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[n("b",[t._v("Enter your username.")])])}],!1,null,"539d2422",null);e.default=component.exports},301:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{startTime:null,requireRefreshTime:3e5,refreshing:!1}},computed:{currentUser:function(){return this.$store.state.currentUser},pauseDbSets:function(){return this.$store.state.pauseDbSets}},mounted:function(){this.startTime=Date.now(),window.addEventListener("focus",this.checkIfRefreshNeeded)},beforeDestroy:function(){window.removeEventListener("focus",this.checkIfRefreshNeeded)},methods:{checkIfRefreshNeeded:function(){this.currentUser&&Date.now()-this.startTime>this.requireRefreshTime&&this.refresh(),this.startTime=Date.now()},refresh:function(){this.startTime=Date.now(),this.$store.commit("setPauseDbSets",!0),this.$store.dispatch("logInAs",this.currentUser)}}},o=(n(320),n(52)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"refreshtakeover",class:{on:t.pauseDbSets}},[n("span",[t._v("Loading data...")])])}),[],!1,null,"47c8fe1a",null);e.default=component.exports},313:function(t,e,n){"use strict";n(282)},314:function(t,e,n){var r=n(134)(!1);r.push([t.i,"h1[data-v-474613a4]{margin-top:0;margin-bottom:.75rem;height:2rem}h1 div[data-v-474613a4]{display:inline-block}.padright[data-v-474613a4]{padding-right:10px}.setelements>*[data-v-474613a4],.setelements>*>*[data-v-474613a4]{width:100%}",""]),t.exports=r},315:function(t,e,n){"use strict";n(283)},316:function(t,e,n){var r=n(134)(!1);r.push([t.i,"h1[data-v-71cd51be]{margin-top:0;margin-bottom:.75rem}",""]),t.exports=r},317:function(t,e,n){var r=n(5),o=n(184).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},318:function(t,e,n){"use strict";n(284)},319:function(t,e,n){var r=n(134)(!1);r.push([t.i,'.userandsetpicker[data-v-539d2422]{display:flex;align-items:center;justify-content:space-between;width:100%;background:#333;height:43px;padding:3px 50px 0;position:relative;z-index:10}@media(max-width:768px){.userandsetpicker[data-v-539d2422]{height:40px;padding:0 20px}}.userandsetpicker.fullscreen[data-v-539d2422]{height:100vh;position:fixed;justify-content:center;background:#eee}.userandsetpicker.vertical[data-v-539d2422]{flex-direction:column}.userandsetpicker.vertical>*[data-v-539d2422]{margin-bottom:20px}.username[data-v-539d2422]{border-radius:7px;border:1px solid #eee;padding:10px}.loginbutton[data-v-539d2422],.username[data-v-539d2422]{font-size:1.2rem;font-family:"Avenir Neue","Avenir","Helvetica",sans-serif}.loginbutton[data-v-539d2422]{border-radius:7px;padding:20px 50px}button:not(.active).duecards[data-v-539d2422]{background:#fd8}.inlineblock[data-v-539d2422]{display:inline-block}.flex-ai[data-v-539d2422]{display:flex;align-items:center;justify-content:center;height:100%}.buttonlist[data-v-539d2422]{overflow:visible}.buttonlist.fullheight[data-v-539d2422]{border-radius:0;border:none;height:100%}.buttonlist.fullheight button[data-v-539d2422]{background:hsla(0,0%,100%,0);box-shadow:none;border:none;transition:background .2s;color:#fff}@media(min-width:769px){.buttonlist.fullheight button[data-v-539d2422]{padding:0 15px 2px;border-top-right-radius:5px;border-top-left-radius:5px}}.buttonlist.fullheight button[data-v-539d2422]:hover{background:rgba(0,153,204,.3)}.buttonlist.fullheight button.active[data-v-539d2422]{background:#fff;color:#000}@media(max-width:768px){.buttonlist.fullheight button[data-v-539d2422]{background:hsla(0,0%,100%,.2);margin-right:3px}}.buttonlist.fullheight>*[data-v-539d2422]{height:100%;border-radius:0}button.mainbutton[data-v-539d2422]{position:relative;z-index:100;min-width:25vw;box-shadow:0 0 1000px 1000px transparent;transition:box-shadow .3s}button.open[data-v-539d2422]{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important;box-shadow:0 0 1000px 1000px rgba(0,0,0,.3);background:#fff!important;color:#000!important}.secondarypanel[data-v-539d2422]{position:absolute;top:100%;left:0;width:100%}.secondarypanel button[data-v-539d2422]{width:100%;border-radius:0;border:0;border-top:1px solid #eee;background:#ddd!important;color:#000!important}.secondarypanel button[data-v-539d2422]:first-of-type{border-radius:0}.secondarypanel button[data-v-539d2422]:last-of-type{border-radius:0;border-bottom-right-radius:10px;border-bottom-left-radius:10px}',""]),t.exports=r},320:function(t,e,n){"use strict";n(285)},321:function(t,e,n){var r=n(134)(!1);r.push([t.i,".refreshtakeover[data-v-47c8fe1a]{position:fixed;z-index:2000;top:0;left:0;width:100%;height:100vh;display:flex;align-items:center;justify-content:center;pointer-events:none;background:hsla(0,0%,100%,0);font-size:1.5em;transition:.4s}.refreshtakeover>*[data-v-47c8fe1a]{opacity:0;transition:.4s}.refreshtakeover.on[data-v-47c8fe1a]{pointer-events:auto;background:hsla(0,0%,100%,.95)}.refreshtakeover.on>*[data-v-47c8fe1a]{opacity:1}",""]),t.exports=r},322:function(t,e,n){var content=n(354);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(135).default)("3df774b1",content,!0,{sourceMap:!1})},353:function(t,e,n){"use strict";n(322)},354:function(t,e,n){var r=n(134)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Raleway);"]),r.push([t.i,'body,html{margin:0;font-family:"Avenir Neue","Avenir","Raleway","Helvetica",sans-serif;scroll-behavior:smooth}*{box-sizing:border-box}.app{min-height:100vh;width:100%;position:absolute;top:0}.app.mobile{font-size:14.5px}.content{position:relative;width:650px;padding:0 7vw;margin:40px auto 20vh;max-width:100%}@media(max-width:768px){.content{margin-top:30px}}.content>div{width:100%;position:relative}a,a:active,a:hover,a:visited{color:#555}.sub{font-size:.85rem;font-weight:500}.fade,.sub{opacity:.6}.centertext,.keyicon{text-align:center}.keyicon{font-family:"Avenir Neue","Avenir","Raleway","Helvetica",sans-serif;display:inline-block;border:1px solid rgba(0,0,0,.3);background:rgba(0,0,0,.05);color:rgba(0,0,0,.7);text-transform:uppercase;line-height:1;font-weight:600;font-size:.7em;padding:2px 4px;min-width:16px;border-radius:4px;box-shadow:0 2px 0 rgba(0,0,0,.2);margin-bottom:2px}@media(max-width:768px){.keyicon{display:none}}.visibletextfield{background:#fff;border:1px solid #bbb;border-radius:5px;text-align:center;padding:5px 0;position:relative}button{margin:0;border:1px solid rgba(0,0,0,.1);background:#fff;font-size:.85rem;font-weight:400;padding:10px;border-radius:10px;font-family:"Avenir",sans-serif;cursor:pointer;transition:.2s}button.active,button:hover{background:#f8f8f8;border:1px solid transparent}.buttonlist{display:flex;border-radius:10px;overflow:visible;border:solid rgba(0,0,0,.1);border-width:1px 1px 3px;flex-wrap:nowrap}.buttonlist button,.buttonlist select{flex-grow:1;flex-shrink:0;border-radius:0;outline:0;border:none;box-shadow:inset -1px -1px 0 0 rgba(0,0,0,.1);position:relative;overflow:visible}.buttonlist button:first-of-type,.buttonlist select:first-of-type{border-top-left-radius:8px;border-bottom-left-radius:8px}.buttonlist button:last-of-type,.buttonlist select:last-of-type{border-top-right-radius:8px;border-bottom-right-radius:8px;border-right:none}.buttonlist select{padding-left:15px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;utf8,<svg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'><path fill=\'#444\' d=\'M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z\'></path></svg>");background-position:98% 50%;background-repeat:no-repeat}.buttonlist.primary button,.buttonlist.primary select{font-size:1rem;padding:15px}select{border:1px solid #bbb;background:#fff;font-size:1rem;font-family:"Avenir Neue","Avenir","Helvetica",sans-serif;height:37px}.roundframe{overflow:hidden;border-radius:10px}.list-enter-active,.list-leave-active{transition:all .25s;position:absolute;top:0;width:100%}.list-leave-active{transition:all .1s}.list-enter,.list-leave-to{opacity:0}',""]),t.exports=r},370:function(t,e,n){"use strict";n.r(e);var r=n(297),o=n(299),d=n(300),c=n(301),l={components:{SetView:r.default,UserView:o.default,UserAndSetPicker:d.default,RefreshHandler:c.default},computed:{isMobile:function(){return this.$store.state.isMobile},currentUser:function(){return this.$store.state.currentUser},currentSet:function(){return this.$store.state.setList[this.$store.state.currentSetId]},appState:function(){return this.$store.state.appState}},mounted:function(){var t=this;this.$nextTick((function(){return t.$el.focus()})),window.addEventListener("resize",this.checkWidth),this.checkWidth()},methods:{checkWidth:function(){this.$store.commit("setAppWidth",window.innerWidth)}}},f=(n(353),n(52)),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app",class:{mobile:t.isMobile}},[n("UserAndSetPicker"),t._v(" "),n("RefreshHandler"),t._v(" "),n("div",{staticClass:"content"},[n("transition-group",{attrs:{appear:"",name:"list",tag:"div"}},[0===Object.keys(t.$store.state.setList).length&&"user"!==t.appState?n("div",{key:"nosets"},[n("center",[n("h1",{staticStyle:{margin:"50px auto"}},[t._v("No sets yet!")])]),t._v(" "),n("div",{staticClass:"buttonlist"},[n("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("\n            + Add Your First Set\n          ")])])],1):t._e(),t._v(" "),t.currentSet&&"user"!==t.appState?n("SetView",{key:t.currentSet.id,attrs:{id:t.currentSet.id,name:t.currentSet.name,cards:t.currentSet.cards,lastStudied:t.currentSet.lastStudied,newToday:t.currentSet.newToday,reviewsToday:t.currentSet.reviewsToday}}):t._e(),t._v(" "),"user"===t.appState&&t.currentUser?n("UserView",{key:"user"}):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UserAndSetPicker:n(300).default,RefreshHandler:n(301).default,SetView:n(297).default,UserView:n(299).default})}}]);