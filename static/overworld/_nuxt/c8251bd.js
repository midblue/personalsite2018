(window.webpackJsonp=window.webpackJsonp||[]).push([[19,20],{257:function(t,e,r){var content=r(262);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("81619272",content,!0,{sourceMap:!1})},259:function(t,e,r){"use strict";r.r(e);r(49);var o={props:{src:{},classString:{default:""},small:{default:!0},baseFormat:{default:"jpg"}},data:function(){return{show:!1}},computed:{name:function(){return this.src.substring(this.src.lastIndexOf("/")+1).replace(/\s/g,"%20")},prefix:function(){return this.src.substring(0,this.src.lastIndexOf("/")+1)}},mounted:function(){}},n=(r(261),r(4)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("picture",{class:{show:t.show}},[r("source",{attrs:{type:"image/avif",media:"(min-width:1000px)",srcset:t.prefix+"l/"+t.name+".avif"}}),t._v(" "),r("source",{attrs:{type:"image/webp",media:"(min-width:1000px)",srcset:t.prefix+"l/"+t.name+".webp"}}),t._v(" "),r("source",{attrs:{type:"image/jpeg",media:"(min-width:1000px)",srcset:t.prefix+"l/"+t.name+"."+t.baseFormat}}),t._v(" "),r("source",{attrs:{type:"image/avif",media:t.small?"(min-width:600px)":"(min-width: 0px)",srcset:t.prefix+"m/"+t.name+".avif"}}),t._v(" "),r("source",{attrs:{type:"image/webp",media:t.small?"(min-width:600px)":"(min-width: 0px)",srcset:t.prefix+"m/"+t.name+".webp"}}),t._v(" "),r("source",{attrs:{type:"image/jpeg",media:t.small?"(min-width:600px)":"(min-width: 0px)",srcset:t.prefix+"m/"+t.name+"."+t.baseFormat}}),t._v(" "),t.small?r("source",{attrs:{type:"image/avif",media:"(max-width:600px)",srcset:t.prefix+"s/"+t.name+".avif"}}):t._e(),t._v(" "),t.small?r("source",{attrs:{type:"image/webp",media:"(max-width:600px)",srcset:t.prefix+"s/"+t.name+".webp"}}):t._e(),t._v(" "),r("img",{ref:"image",class:t.classString,attrs:{src:t.prefix+"s/"+t.name+"."+t.baseFormat},on:{load:function(e){t.show=!0}}})])}),[],!1,null,"3111b51e",null);e.default=component.exports},261:function(t,e,r){"use strict";r(257)},262:function(t,e,r){var o=r(14)(!1);o.push([t.i,"img[data-v-3111b51e]{position:relative}picture[data-v-3111b51e]{opacity:0;transition:opacity .5s}.show[data-v-3111b51e]{opacity:1}",""]),t.exports=o},295:function(t,e,r){var content=r(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("f977dec0",content,!0,{sourceMap:!1})},305:function(t,e,r){"use strict";r(295)},306:function(t,e,r){var o=r(14)(!1);o.push([t.i,"*[data-v-5c92ef4e]{transform-style:preserve-3d}.cardholder[data-v-5c92ef4e]{position:fixed;z-index:1;top:0;left:0;right:0;bottom:0;margin:0 auto;max-width:130vh;display:flex;align-items:center;justify-content:center;perspective:300vw;--sidewidth:1.2vw;--papercolor:#f5ece2}.postcardidleanimator[data-v-5c92ef4e]{z-index:2;position:relative;perspective:300vw;width:min(120vh,90%);padding-top:calc(min(120vh, 90%)*0.68966);transition:width .7s,padding-top .7s}.postcardidleanimator.mobile[data-v-5c92ef4e]{animation:vogue 6s ease-in-out infinite alternate}.postcardidleanimator.portrait[data-v-5c92ef4e]{width:min(80vh,100%);padding-top:calc(min(80vh * (1/1.45), 100% * (1/1.45)))}.postcardrotator[data-v-5c92ef4e]{position:absolute;perspective:300vw;top:0;left:0;bottom:0;right:0}.postcardrotator.portrait[data-v-5c92ef4e]{transform:rotate(-90deg)}.postcardhoveranimator[data-v-5c92ef4e]{position:absolute;perspective:300vw;top:0;left:0;bottom:0;right:0;transition:transform var(--rateLimitedTime)}@media (max-width:768px){.cardholder[data-v-5c92ef4e],.postcardhoveranimator[data-v-5c92ef4e],.postcardidleanimator[data-v-5c92ef4e],.postcardrotator[data-v-5c92ef4e]{perspective:500vw}}.postcard[data-v-5c92ef4e]{bottom:0;right:0;transition:transform 2s cubic-bezier(.25,1,.5,1);transform:rotateY(0deg);box-shadow:0 0 6vh rgba(0,0,0,.5)}.back[data-v-5c92ef4e],.front[data-v-5c92ef4e],.postcard[data-v-5c92ef4e]{position:absolute;top:0;left:0}.back[data-v-5c92ef4e],.front[data-v-5c92ef4e]{width:100%;height:100%;overflow:hidden;background:#fff}.front[data-v-5c92ef4e]{transform:translateZ(calc(var(--sidewidth)*1));cursor:e-resize}.back[data-v-5c92ef4e]{transform:translateZ(0) rotateY(180deg);cursor:zoom-out}.back.portrait[data-v-5c92ef4e]{transform:translateZ(0) rotateY(180deg) rotate(180deg)}.back.willzoom[data-v-5c92ef4e]{cursor:zoom-in}.right[data-v-5c92ef4e]{right:0;transform:translateX(49%) rotateY(90deg) translateX(-50%)}.left[data-v-5c92ef4e],.right[data-v-5c92ef4e]{height:100%;width:var(--sidewidth);background:var(--papercolor);filter:brightness(.3) sepia(.5);position:absolute;top:0}.left[data-v-5c92ef4e]{left:0;transform:translateX(-49%) rotateY(90deg) translateX(-50%)}.top[data-v-5c92ef4e]{top:0;transform:translateY(-49%) rotateX(90deg) translateY(50%)}.bottom[data-v-5c92ef4e],.top[data-v-5c92ef4e]{width:100%;height:var(--sidewidth);background:var(--papercolor);filter:brightness(.3) sepia(.5);position:absolute;left:0}.bottom[data-v-5c92ef4e]{bottom:0;transform:translateY(49%) rotateX(90deg) translateY(50%)}",""]),t.exports=o},333:function(t,e,r){"use strict";r.r(e);var o=r(0),n=(r(18),{props:{front:{},back:{},initialEvent:{}},data:function(){return{stage:0,cardTransform:null,animationDelay:(-6*Math.random()).toFixed(2),mouseXPercent:.5,mouseYPercent:.5,rateLimitedMouseMove:null}},computed:{isMobile:function(){return this.$store.state.isMobile},willZoom:function(){return this.$store.state.winSize[0]<1200},backImg:function(){return this.back.img[this.$i18n.locale]||this.back.img.en},backText:function(){return this.back.text[this.$i18n.locale]||this.back.text.en},transformAngleX:function(){if(!this.isMobile&&this.mouseXPercent&&this.mouseYPercent)return-.3*(this.mouseXPercent-.5)*90},transformAngleY:function(){if(!this.isMobile&&this.mouseXPercent&&this.mouseYPercent)return.3*(this.mouseYPercent-.5)*90},sheenAmount:function(){if(!this.isMobile&&this.transformAngleX)return 1+.0075*(this.transformAngleY-this.transformAngleX)-.075}},watch:{},created:function(){this.rateLimitedMouseMove=c(this.handleMouseMove,32)},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("mousemove",t.rateLimitedMouseMove),!t.isMobile&&t.initialEvent&&t.handleMouseMove(t.initialEvent),t.$store.commit("playSound",{src:"/sounds/moving/paper_pick_up.mp3",volume:.3});case 3:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){window.removeEventListener("mousemove",this.rateLimitedMouseMove)},methods:{act:function(){0===this.stage&&(this.cardTransform=this.front.portrait?"rotateX(180deg)":"rotateY(-180deg)",this.$store.commit("playSound",{src:"/sounds/moving/paper_flip.mp3",volume:.2})),1===this.stage&&(window.removeEventListener("mousemove",this.rateLimitedMouseMove),this.$emit("takeover",this.backText)),2===this.stage&&this.$emit("done"),this.stage++},handleMouseMove:function(t){this.mouseXPercent=t.clientX/window.innerWidth,this.mouseYPercent=t.clientY/window.innerHeight}}}),c=function(t,e){var r=!1,o=null;return function(){if(!r){var n=this,c=arguments;t.apply(n,c),r=!0,clearTimeout(o),o=setTimeout((function(){r=!1,t.apply(n,c)}),e)}}},d=n,l=(r(305),r(4)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cardholder",on:{click:t.act}},[r("div",{staticClass:"postcardidleanimator",class:{portrait:t.front.portrait,mobile:t.isMobile},style:{"animation-delay":this.animationDelay+"s"}},[r("div",{staticClass:"postcardrotator",class:{portrait:t.front.portrait}},[r("div",{staticClass:"postcardhoveranimator",style:{transform:t.transformAngleX?"rotateY("+t.transformAngleX+"deg) rotateX("+t.transformAngleY+"deg)":"rotateY(0) rotateX(0)"}},[r("div",{staticClass:"postcard",style:{transform:t.cardTransform}},[r("div",{staticClass:"back",class:{portrait:t.front.portrait,willzoom:t.willZoom},style:{filter:t.stage>0?"brightness("+t.sheenAmount+")":""}},[r("ResponsiveImage",{attrs:{src:t.backImg,classString:"maximg"}})],1),t._v(" "),r("div",{staticClass:"front",style:{filter:t.stage<2?"brightness("+t.sheenAmount+")":""}},[r("ResponsiveImage",{attrs:{src:t.front.img,classString:"maximg"}})],1),t._v(" "),r("div",{staticClass:"right"}),t._v(" "),r("div",{staticClass:"bottom"}),t._v(" "),r("div",{staticClass:"top"}),t._v(" "),r("div",{staticClass:"left"})])])])])])}),[],!1,null,"5c92ef4e",null);e.default=component.exports;installComponents(component,{ResponsiveImage:r(259).default})}}]);